const setPage = page => `
'${page.key.slice(0, -3)}': raw('${page.content}')`

const setDirectory = dir => `'${dir.key}': {
  ${dir.content.map(page => dirOrPage(page))}
}`

const dirOrPage = content => content.key ? content.key.includes('.') ? setPage(content) : setDirectory(content) : null

module.exports = ({ content }) => `/* eslint-disable global-require, quote-props, no-template-curly-in-string */
const raw = require('raw.macro')
/**
 * NOTE:
 *
 * This file is automatically generated by the build process.
 * DO NOT CHANGE IT BY HAND or your changes will be lost.
 *
 * To change the format of this file, modify cms/content.template.js.
 */
const content = {${content.map(page => dirOrPage(page)).join(', ')}};

export default content;
`
